<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="YR10 CyberSecurity game">
        <meta name="author" content="Gabriel Pavlov">
        <title>Gabriel Pavlov - YR10 CyberSecurity game</title>

        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/custom.css" rel="stylesheet">
 
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="alert alert-primary" role="alert">
                        <p> You were working on the progress report your boss did when suddenly a notification turned up </p>
                        <p> It stated that your firewall has detected vulnerabiliteies and needs to be updated </p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <nav class="navbar navbar-expand-lg navbar-light bg-light">
                        <a class="navbar-brand" href="#">Chart++</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                          <span class="navbar-toggler-icon"></span>
                        </button>
                      
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                          <ul class="navbar-nav mr-auto">
                            <li class="nav-item active">
                              <a class="nav-link save-report" href="#">Saved</a>
                            </li>
                            <!-- li class="nav-item">
                              <a class="nav-link share-report" href="#">Share</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link delete-report" href="#">Delete</a>
                            </li -->
                          </ul>
                          <form class="form-inline my-2 my-lg-0">
                            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                          </form>
                        </div>
                      </nav>
                </div>
            </div>

            <div class= "row">
                <div class="col-8">
                    <div><p>&nbsp;</p></div>
                    <div class="progress">
                        <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 17%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"> Happiness of workers</div>
                      </div>
                      <div><p>&nbsp;</p></div>
                      <div class="progress">
                        <div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: 59%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"> worker productivity</div>
                      </div>
                      <div><p>&nbsp;</p></div>
                      <div class="progress">
                        <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 42%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"> </div>
                      </div>
                      <div><p>&nbsp;</p></div>
                      <div class="progress">
                        <div class="progress-bar progress-bar-striped bg-warning" role="progressbar" style="width: 81%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"> succesfull contracts</div>
                      </div>
                      <div><p>&nbsp;</p></div>
                      <div class="progress">
                        <div class="progress-bar progress-bar-striped bg-danger" role="progressbar" style="width: 93%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"> profit to happiness ratio</div>
                      </div>
                </div>
                <div class="col-4 toasts">
                    <!-- toasts go here from JS -->
                    
                </div>
            </div> 
            
        </div>
            <script type="text/javascript" src="js/jquery-3.5.1.js"></script>
            <script type="text/javascript" src="js/bootstrap.bundle.min.js"></script>
            <script>

                $(document).ready(function() {

                    var _boss = 'Andrew Reckless';
                    var _ceo = 'John Ruthless';

                    var _updateWasInstalled = false;
                    // var _sharedBadReport = false; 
                    // var _reportWasSent = false;
                    // var _reportWasDeleted = false; 
                    var _toastCnt = 10;  

                    var createToast = function(clazz, subject, body) {
                        $('.toasts').append(
                        '<div class="toast ' + clazz + '" role="alert" aria-live="assertive" aria-atomic="true" data-autohide="false">' + 
                                '<div class="toast-header">' + 
                                '<strong class="mr-auto">' + subject + '</strong>' + 
                                '<small>' + new Date().toTimeString().slice(0,8) + '</small>' + 
                                '<button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">' + 
                                    '<span aria-hidden="true">&times;</span>' + 
                                '</button>' + 
                                '</div>' + 
                                '<div class="toast-body">' + body + 
                                '</div>' + 
                            '</div>');
                            $('.toast' + _toastCnt).toast('show');
                            _toastCnt++;
                    }

                    var updateStoryLine = function(text) {
                        $('.storyline').html(text);
                    }

                    var _t1 = _toastCnt
                        createToast('toast' + _t1, 'WindowsSystem : vulnerabilities detected', ' Windows firewall has detected vulnerabilities in your device.' + 
                      ' Please update windows firewall to prevent damge to system.<br/>' + 
                      '<a class="btn btn-secondary" href="page105.html">Do not update</a> <a class="btn btn-secondary install-update" href="#">Install update</a>');
            
                      setTimeout(function() {
                            createToast('toast' + _toastCnt, 'WendysSystem : vulnerabilities detected!',   
                            'Your system is vulnerable click link below and enter your password to install updates.<br/>' + 
                      '<a class="btn btn-secondary" href="page106.html">Install update</a>');

                        }, 2000);

                    $('.install-update').click(function() {
                        _updateWasInstalled = true;

                        setTimeout(function() {
                            createToast('toast' + _toastCnt, 'WindowsSystem : update installed!',   
                            'Update was installed successfully. Your device is now protected');

                            createToast('toast' + _toastCnt, 'GameMaster : Well done Bob!',   
                            'Well done Bob you have survived a day in urban jungle!<br/><a class="btn btn-success" href="page099.html">Finish</a>');


                        }, 2000);
  
                        
                    });

                });
            </script>
    </body>
</html>